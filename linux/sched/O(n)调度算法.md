# 0x00. 导读

介绍 O（n）调度器。

# 0x01. 简介

O（n）调度器是 Linux 2.4 至 2.6 版本使用。其实现思路非常简单。

O(n) 调度器 采用一个全局的运行队列来管理任务，该队列的表头保存在全局变量 `runqueue_head` 中。所有的就绪任务都会被放入该队列中，每次调度时，系统会遍历整个队列然后挑出最适合的任务，即优先级最高的任务来执行，因此该调度算法的时间复杂度为 O(n), 这也是该调度器被叫着 O(n)调度器 的原因。

# 0x02. 调度逻辑

调度器通过一次遍历选取了优先级最高的任务，如果队列为空，则系统将在该 CPU 上运行 idle task 。

- 多个cpu共享全局队列，并非每个cpu有单独的队列
- 实时进程和普通进程混合且无序存放，寻找最合适进程需要遍历
- 就绪进程将被添加到队列，运行结束被删除
- 全局队列增删进程任务时需要加锁
- 进程被挂到不同CPU运行，缓存利用率低

